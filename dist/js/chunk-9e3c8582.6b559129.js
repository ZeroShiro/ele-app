(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e3c8582"],{"02a2":function(t,e,s){"use strict";var n=s("be09"),a=s.n(n);a.a},"0418":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header",class:{blue:t.blue,isLeft:!t.isLeft}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isLeft,expression:"isLeft"}],staticClass:"header-button is-left"},[s("i",{staticClass:"fa fa-chevron-left"}),t.go?t._e():s("button",{on:{click:function(e){return t.$router.push(t.btn)}}},[t._v("返回")]),t.go?s("button",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")]):t._e()]),s("div",{staticClass:"header-title"},[t._v(t._s(t.title))])])},a=[],r={name:"Header",props:{title:String,isLeft:{type:Boolean,default:!1},btn:{type:String,default:"home"},go:{type:Boolean,default:!1},blue:{type:Boolean,default:!1}},computed:{city:function(){return this.$route.query.city}}},i=r,o=(s("02a2"),s("5511")),c=Object(o["a"])(i,n,a,!1,null,"33879d31",null);e["a"]=c.exports},"060c":function(t,e,s){},2361:function(t,e,s){"use strict";var n=s("c120"),a=s.n(n);a.a},"50e1":function(t,e,s){"use strict";var n=s("060c"),a=s.n(n);a.a},"64b0":function(t,e,s){},"6ffe":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settlement"},[s("Header",{attrs:{isLeft:"",title:"确认订单",btn:"goods",blue:""}}),t.orderInfo?s("div",{staticClass:"view-body"},[s("div",[s("section",{staticClass:"cart-address"},[s("p",{staticClass:"title"},[t._v(" 订单配送至 "),t.userAddress&&t.userAddress.tag?s("span",{staticClass:"address-tag"},[t._v(t._s(t.userAddress.tag))]):t._e()]),s("p",{staticClass:"address-detail"},[t.userAddress?s("span",{on:{click:t.toRouter}},[t._v(t._s(t.userAddress.address)+t._s(t.userAddress.bottom))]):s("span",[t.haveAddress?s("span",{on:{click:t.toRouter}},[t._v(t._s(t.showAddress))]):s("span",{on:{click:t.addAddress}},[t._v(t._s(t.showAddress))])]),s("i",{staticClass:"fa fa-angle-right"})]),t.userAddress?s("h2",{staticClass:"address-name"},[s("span",[t._v(t._s(t.userAddress.name))]),t.userAddress.sex?s("span",[t._v("("+t._s(t.userAddress.sex)+")")]):t._e(),s("span",{staticClass:"phone"},[t._v(t._s(t.userAddress.phone))])]):t._e()]),t.orderInfo?s("Delivery",{attrs:{shopInfo:t.orderInfo.shopInfo}}):t._e(),s("CartGroup",{attrs:{orderInfo:t.orderInfo,totalPrice:t.totalPrice}}),s("section",{staticClass:"checkout-section"},[s("CartItem",{attrs:{title:"餐具份数",subHead:"未选择"}}),s("CartItem",{attrs:{title:"订单备注",subHead:"口味 偏好"}}),s("CartItem",{attrs:{title:"发票信息",subHead:"不需要开发票"}})],1),s("footer",{staticClass:"action-bar"},[s("span",[t._v("¥"+t._s(t.totalPrice))]),s("button",{on:{click:function(e){return t.handlePay()}}},[t._v("去支付")])])],1)]):t._e()],1)},a=[],r=(s("a17e"),s("a886")),i=s.n(r),o=s("0418"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"checkout-section"},[s("div",{staticClass:"delivery"},[s("div",{staticClass:"deliver-left"},[s("span",{staticClass:"delivery-time"},[t._v("送达时间")]),t.shopInfo.delivery_mode.text?s("div",{staticClass:"delivery-extra"},[s("span",[t._v(t._s(t.shopInfo.delivery_mode.text))])]):t._e()]),s("div",{staticClass:"delivery-right"},[s("span",{staticClass:"delivery-select"},[t._v("尽快送达 ("+t._s(t.deliveryTime(t.shopInfo.order_lead_time))+"送达)")]),s("i",{staticClass:"fa fa-angle-right"})])]),t._m(0)])},d=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-item"},[s("div",{staticClass:"cart-item-title"},[t._v("支付方式")]),s("div",{staticClass:"pay-text"},[t._v("在线支付")])])}],u={name:"Delivery",props:{shopInfo:Object},methods:{deliveryTime:function(t){var e=new Date;return e.setMinutes(e.getMinutes()+t),e.getHours()+":"+e.getMinutes()}}},l=u,f=(s("2361"),s("5511")),p=Object(f["a"])(l,c,d,!1,null,"1e2c4d63",null),v=p.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"checkout-section cart-group"},[s("h3",[t._v(t._s(t.name))]),s("ul",[t._l(t.orderInfo.selectFoods,(function(e,n){return s("li",{key:n},[s("img",{attrs:{src:e.image_path,alt:""}}),s("div",{staticClass:"cart-group-info"},[s("span",[t._v(t._s(e.name))]),s("span",[t._v("x "+t._s(e.count))]),s("span",[t._v(t._s(e.activity.fixed_price))])])])})),s("li",{staticClass:"cart-group-total"},[s("div",[t._v("配送费")]),s("div",[t._v("¥"+t._s(t.orderInfo.shopInfo.float_delivery_fee))])]),s("li",{staticClass:"cart-group-total"},[s("div",{staticClass:"discounts"}),s("div",{staticClass:"subtotal"},[s("span",[t._v("小计 ¥")]),s("span",{staticClass:"price"},[t._v(t._s(t.totalPrice))])])])],2)])},m=[],h=(s("c354"),{name:"CartGroup",props:{orderInfo:Object,totalPrice:""},computed:{name:function(){var t=JSON.parse(localStorage.getItem("shopdata"));return t.name}}}),C=h,b=(s("a80b"),Object(f["a"])(C,_,m,!1,null,"309ad49c",null)),g=b.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-item",on:{click:function(e){return t.$emit("click")}}},[s("div",{staticClass:"cart-item-title"},[t._v(t._s(t.title))]),t.subHead?s("div",{staticClass:"cart-item-right"},[s("span",[t._v(t._s(t.subHead))]),s("i",{staticClass:"fa fa-angle-right"})]):t._e()])},x=[],A={name:"CartItem",props:{title:String,subHead:String}},I=A,$=(s("50e1"),Object(f["a"])(I,y,x,!1,null,"049e12e8",null)),w=$.exports,k={data:function(){return{haveAddress:!1,showAddress:"",shopname:null}},computed:{userAddress:function(){return this.$store.getters.userAddress},orderInfo:function(){return this.$store.getters.orderInfo},totalPrice:function(){return this.$store.getters.totalPrice}},created:function(){this.getData()},methods:{toRouter:function(){this.$router.push({name:"myaddress",params:{settlement:!0}})},addAddress:function(){this.$router.push({name:"addaddress",params:{title:"添加地址",addressInfo:{name:"",sex:"",phone:"",address:"",bottom:"",tag:""}}})},getData:function(){var t=this;this.$axios("/mockapi/user/user_info/").then((function(e){e=e.data,e.data.myAddress.length>0?(t.haveAddress=!0,t.showAddress="选择收货地址"):(t.haveAddress=!1,t.showAddress="新增收货地址")}))},handlePay:function(){this.userAddress?this.$router.push({name:"pay"}):i()({message:"请选泽收货地址",position:"bottom",duration:2e3})}},components:{Header:o["a"],Delivery:v,CartGroup:g,CartItem:w}},O=k,E=(s("af43"),Object(f["a"])(O,n,a,!1,null,"3aecfa26",null));e["default"]=E.exports},"768d":function(t,e,s){},a17e:function(t,e,s){},a80b:function(t,e,s){"use strict";var n=s("768d"),a=s.n(n);a.a},a886:function(t,e,s){t.exports=function(t){var e={};function s(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=t,s.c=e,s.i=function(t){return t},s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=242)}({0:function(t,e){t.exports=function(t,e,s,n,a){var r,i=t=t||{},o=typeof t.default;"object"!==o&&"function"!==o||(r=t,i=t.default);var c,d="function"===typeof i?i.options:i;if(e&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns),n&&(d._scopeId=n),a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},d._ssrRegister=c):s&&(c=s),c){var u=d.functional,l=u?d.render:d.beforeCreate;u?d.render=function(t,e){return c.call(e),l(t,e)}:d.beforeCreate=l?[].concat(l,c):[c]}return{esModule:r,exports:i,options:d}}},1:function(t,e){t.exports=s("8bbf")},101:function(t,e){},164:function(t,e,s){function n(t){s(101)}var a=s(0)(s(86),s(170),n,null,null);t.exports=a.exports},170:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"mint-toast-pop"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-toast",class:t.customClass,style:{padding:""===t.iconClass?"10px":"20px"}},[""!==t.iconClass?s("i",{staticClass:"mint-toast-icon",class:t.iconClass}):t._e(),t._v(" "),s("span",{staticClass:"mint-toast-text",style:{"padding-top":""===t.iconClass?"0":"10px"}},[t._v(t._s(t.message))])])])},staticRenderFns:[]}},242:function(t,e,s){t.exports=s(50)},50:function(t,e,s){"use strict";var n=s(94);Object.defineProperty(e,"__esModule",{value:!0}),s.d(e,"default",(function(){return n["a"]}))},86:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{message:String,className:{type:String,default:""},position:{type:String,default:"middle"},iconClass:{type:String,default:""}},data:function(){return{visible:!1}},computed:{customClass:function(){var t=[];switch(this.position){case"top":t.push("is-placetop");break;case"bottom":t.push("is-placebottom");break;default:t.push("is-placemiddle")}return t.push(this.className),t.join(" ")}}}},94:function(t,e,s){"use strict";var n=s(1),a=s.n(n),r=a.a.extend(s(164)),i=[],o=function(){if(i.length>0){var t=i[0];return i.splice(0,1),t}return new r({el:document.createElement("div")})},c=function(t){t&&i.push(t)},d=function(t){t.target.parentNode&&t.target.parentNode.removeChild(t.target)};r.prototype.close=function(){this.visible=!1,this.$el.addEventListener("transitionend",d),this.closed=!0,c(this)};var u=function(t){void 0===t&&(t={});var e=t.duration||3e3,s=o();return s.closed=!1,clearTimeout(s.timer),s.message="string"===typeof t?t:t.message,s.position=t.position||"middle",s.className=t.className||"",s.iconClass=t.iconClass||"",document.body.appendChild(s.$el),a.a.nextTick((function(){s.visible=!0,s.$el.removeEventListener("transitionend",d),~e&&(s.timer=setTimeout((function(){s.closed||s.close()}),e))})),s};e["a"]=u}})},af43:function(t,e,s){"use strict";var n=s("64b0"),a=s.n(n);a.a},be09:function(t,e,s){},c120:function(t,e,s){}}]);